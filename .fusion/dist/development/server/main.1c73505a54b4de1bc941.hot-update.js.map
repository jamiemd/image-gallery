{"version":3,"file":"main.1c73505a54b4de1bc941.hot-update.js","sources":["/Users/jamie/GitHub/image-gallery/src/actions/albums.js","/Users/jamie/GitHub/image-gallery/src/reducers/albums.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const GET_ALBUMS = \"GET_ALBUMS\";\nexport const GET_ALBUM = \"GET_ALBUM\";\nexport const CREATE_ALBUM = \"CREATE_ALBUM\";\nexport const ADD_IMAGE = \"ADD_IMAGE\";\nexport const SHOW_DELETE_ALBUM_POPUP = \"SHOW_DELETE_ALBUM_POPUP\";\nexport const SHOW_DELETE_IMAGE_POPUP = \"SHOW_DELETE_IMAGE_POPUP\";\nexport const SHOW_IMAGE_POPUP = \"SHOW_IMAGE_POPUP\";\nexport const DELETE_ALBUM = \"DELETE_ALBUM\";\nexport const DELETE_IMAGE = \"DELETE_IMAGE\";\n\nconst ROOT_URL = \"http://localhost:3000/api\";\n\n// get all albums\nexport const getAlbums = () => {\n  return dispatch => {\n    axios\n      .get(`${ROOT_URL}/getAlbums`)\n      .then(res => {\n        console.log(\"res.data\", res.data);\n        dispatch({\n          type: GET_ALBUMS,\n          payload: res.data\n        });\n      })\n      .catch(error => {\n        console.log(\"error\", error.response);\n      });\n  };\n};\n\n// find album\nexport const findAlbum = albumId => {\n  return dispatch => {\n    axios\n      .get(`${ROOT_URL}/findAlbum/${albumId}`)\n      .then(res => {\n        dispatch({\n          type: GET_ALBUM,\n          payload: res.data\n        });\n      })\n      .catch(error => {\n        console.log(\"error\", error.response);\n      });\n  };\n};\n\n// create album\nexport const createAlbum = (albumName, history) => {\n  return dispatch => {\n    axios\n      .post(`${ROOT_URL}/create-album`, { albumName })\n      .then(res => {\n        dispatch({\n          type: CREATE_ALBUM,\n          payload: res.data\n        });\n        history.push(\"/findAlbum/\" + res.data.albumId);\n      })\n      .catch(error => {\n        console.log(\"error.response in create album\", error.response);\n      });\n  };\n};\n\n// add images\nexport const addImage = (image, albumId) => {\n  return dispatch => {\n    axios\n      .put(`${ROOT_URL}/add-image/${albumId}`, { image })\n      .then(res => {\n        console.log(\"res.data in add image\", res.data);\n        dispatch({\n          type: ADD_IMAGE,\n          payload: res.data\n        });\n      })\n      .catch(error => {\n        console.log(\"error.response\", error.response);\n      });\n  };\n};\n\n// delete album popup\nexport const showDeleteAlbumPopup = albumToDeleteId => {\n  return {\n    type: SHOW_DELETE_ALBUM_POPUP,\n    payload: albumToDeleteId\n  };\n};\n\n// delete image popup\nexport const showDeleteImagePopup = imageToDeleteId => {\n  return {\n    type: SHOW_DELETE_IMAGE_POPUP,\n    payload: imageToDeleteId\n  };\n};\n\n// show image popup\nexport const showImagePopup = imageToShow => {\n  return {\n    type: SHOW_IMAGE_POPUP,\n    payload: imageToShow\n  };\n};\n\nexport const deleteAlbum = albumId => {\n  return dispatch => {\n    axios\n      .delete(`${ROOT_URL}/delete-album/${albumId}`)\n      .then(res => {\n        disptach({\n          type: DELETE_ALBUM,\n          payload: res.data\n        });\n      })\n      .catch(error => {\n        console.log(\"error.response\", error.response);\n      });\n  };\n};\n\nexport const deleteImage = (imageToDelete, albumId) => {\n  return dispatch => {\n    axios\n      .post(`${ROOT_URL}/delete-image`, { imageToDelete, albumId })\n      .then(res => {\n        console.log(\"res in delete image\", res.data);\n        disptach({\n          type: DELETE_IMAGE,\n          payload: res.data\n        });\n      })\n      .catch(error => {\n        console.log(\"error.response\", error.response);\n      });\n  };\n};\n","import {\n  GET_ALBUMS,\n  GET_ALBUM,\n  ADD_IMAGE,\n  CREATE_ALBUM,\n  SHOW_DELETE_ALBUM_POPUP,\n  SHOW_DELETE_IMAGE_POPUP,\n  SHOW_IMAGE_POPUP,\n  DELETE_ALBUM,\n  DELETE_IMAGE\n} from \"../actions/albums\";\n\nexport default (state, action) => {\n  // console.log(\"action.payload\", action.payload);\n  switch (action.type) {\n    case GET_ALBUMS:\n      return {\n        ...state,\n        albums: action.payload.albums\n      };\n    case GET_ALBUM:\n      return {\n        album: action.payload.album\n      };\n    case CREATE_ALBUM:\n      return {\n        ...action.payload\n      };\n    case ADD_IMAGE:\n      return {\n        ...state,\n        ...action.payload\n      };\n    case SHOW_DELETE_ALBUM_POPUP:\n      if (state.showDeleteAlbumPopupBool === true) {\n        return {\n          ...state,\n          showDeleteAlbumPopupBool: false\n        };\n      } else {\n        return {\n          ...state,\n          showDeleteAlbumPopupBool: true,\n          albumToDeleteId: action.payload\n        };\n      }\n    case SHOW_DELETE_IMAGE_POPUP:\n      if (state.showDeleteImagePopupBool === true) {\n        return {\n          ...state,\n          showDeleteImagePopupBool: false\n        };\n      } else {\n        return {\n          ...state,\n          showDeleteImagePopupBool: true,\n          imageToDeleteId: action.payload\n        };\n      }\n    case SHOW_IMAGE_POPUP:\n      if (state.showImagePopupBool === true) {\n        return {\n          ...state,\n          showImagePopupBool: false\n        };\n      }\n      return {\n        ...state,\n        showImagePopupBool: true,\n        imageToShow: action.payload\n      };\n    case DELETE_ALBUM:\n      return {\n        ...action.payload\n      };\n    case DELETE_IMAGE:\n      return {\n        ...action.payload\n      };\n    default:\n      return state;\n  }\n};\n"],"mappings":";;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC5IA;AAYA;AACA;AACA;AACA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AAAA;AAEA;AACA;AAHA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAlEA;AAoEA;;;;A","sourceRoot":""}