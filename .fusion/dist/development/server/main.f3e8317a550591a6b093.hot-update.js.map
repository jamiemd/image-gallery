{"version":3,"file":"main.f3e8317a550591a6b093.hot-update.js","sources":["/Users/jamie/GitHub/image-gallery/src/Components/delete-popup.js","/Users/jamie/GitHub/image-gallery/src/actions/albums.js","/Users/jamie/GitHub/image-gallery/src/pages/album.js","/Users/jamie/GitHub/image-gallery/src/reducers/albums.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { showDeleteImagePopup, deleteImage } from \"../actions/albums\";\n\nclass DeletePopup extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  handleDeletePopup = () => {\n    this.props.showDeleteImagePopup();\n  };\n\n  handleDelete = (imageToDeleteId, albumId) => {\n    this.props.showDeleteImagePopup();\n    this.props.deleteImage(imageToDeleteId, albumId);\n  };\n\n  render() {\n    return (\n      <div style={popupContainer}>\n        <div style={popupBox}>\n          <div style={text}>Delete image?</div>\n          <div style={buttonContainer}>\n            <button style={buttonStyle} onClick={this.handleDeletePopup}>\n              Cancel\n            </button>\n            <button\n              style={buttonStyle}\n              onClick={() =>\n                this.handleDelete(\n                  this.props.imageToDeleteId,\n                  this.props.albumId\n                )\n              }\n            >\n              Yes\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst popupContainer = {\n  zIndex: \"1\",\n  overflow: \"auto\",\n  backgroundColor: \"rgba(0,0,0,0.4)\",\n  position: \"fixed\",\n  height: \"100%\",\n  width: \"100%\",\n  left: \"0\",\n  top: \"0\",\n  display: \"flex\"\n};\n\nconst popupBox = {\n  width: \"400px\",\n  height: \"200px\",\n  backgroundColor: \"white\",\n  margin: \"auto\"\n};\n\nconst buttonContainer = {\n  display: \"flex\",\n  justifyContent: \"space-around\"\n};\n\nconst buttonStyle = {\n  border: \".5px solid\",\n  fontSize: \"16px\",\n  padding: \"5px\",\n  width: \"100px\",\n  height: \"40px\"\n};\n\nconst text = {\n  textAlign: \"center\",\n  paddingTop: \"40px\",\n  paddingBottom: \"40px\",\n  fontSize: \"25px\"\n};\n\nconst mapStateToProps = state => {\n  return {\n    albumId: state.album._id,\n    imageToDeleteId: state.imageToDeleteId\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { showDeletePopup, deleteImage }\n)(DeletePopup);\n","import axios from \"axios\";\n\nexport const GET_ALBUMS = \"GET_ALBUMS\";\nexport const GET_ALBUM = \"GET_ALBUM\";\nexport const CREATE_ALBUM = \"CREATE_ALBUM\";\nexport const ADD_IMAGE = \"ADD_IMAGE\";\nexport const SHOW_ALBUM_IMAGE_POPUP = \"SHOW_ALBUM_IMAGE_POPUP\";\nexport const SHOW_DELETE_IMAGE_POPUP = \"SHOW_DELETE_IMAGE_POPUP\";\nexport const SHOW_IMAGE_POPUP = \"SHOW_IMAGE_POPUP\";\nexport const DELETE_ALBUM = \"DELETE_ALBUM\";\nexport const DELETE_IMAGE = \"DELETE_IMAGE\";\n\nconst ROOT_URL = \"http://localhost:3000/api\";\n\n// get all albums\nexport const getAlbums = () => {\n  return dispatch => {\n    axios\n      .get(`${ROOT_URL}/getAlbums`)\n      .then(res => {\n        console.log(\"res.data\", res.data);\n        dispatch({\n          type: GET_ALBUMS,\n          payload: res.data\n        });\n      })\n      .catch(error => {\n        console.log(\"error\", error.response);\n      });\n  };\n};\n\n// find album\nexport const findAlbum = albumId => {\n  return dispatch => {\n    axios\n      .get(`${ROOT_URL}/findAlbum/${albumId}`)\n      .then(res => {\n        dispatch({\n          type: GET_ALBUM,\n          payload: res.data\n        });\n      })\n      .catch(error => {\n        console.log(\"error\", error.response);\n      });\n  };\n};\n\n// create album\nexport const createAlbum = (albumName, history) => {\n  return dispatch => {\n    axios\n      .post(`${ROOT_URL}/create-album`, { albumName })\n      .then(res => {\n        dispatch({\n          type: CREATE_ALBUM,\n          payload: res.data\n        });\n        history.push(\"/findAlbum/\" + res.data.albumId);\n      })\n      .catch(error => {\n        console.log(\"error.response in create album\", error.response);\n      });\n  };\n};\n\n// add images\nexport const addImage = (image, albumId) => {\n  return dispatch => {\n    axios\n      .put(`${ROOT_URL}/add-image/${albumId}`, { image })\n      .then(res => {\n        console.log(\"res.data in add image\", res.data);\n        dispatch({\n          type: ADD_IMAGE,\n          payload: res.data\n        });\n      })\n      .catch(error => {\n        console.log(\"error.response\", error.response);\n      });\n  };\n};\n\n// delete album popup\nexport const showDeleteAlbumPopup = albumToDeleteId => {\n  return {\n    type: SHOW_DELETE_ALBUM_POPUP,\n    payload: albumToDeleteId\n  };\n};\n\n// delete image popup\nexport const showDeleteImagePopup = imageToDeleteId => {\n  return {\n    type: SHOW_DELETE_IMAGE_POPUP,\n    payload: imageToDeleteId\n  };\n};\n\n// show image popup\nexport const showImagePopup = imageToShow => {\n  return {\n    type: SHOW_IMAGE_POPUP,\n    payload: imageToShow\n  };\n};\n\nexport const deleteAlbum = albumId => {\n  return dispatch => {\n    axios\n      .delete(`${ROOT_URL}/delete-album/${albumId}`)\n      .then(res => {\n        disptach({\n          type: DELETE_ALBUM,\n          payload: res.data\n        });\n      })\n      .catch(error => {\n        console.log(\"error.response\", error.response);\n      });\n  };\n};\n\nexport const deleteImage = (imageToDelete, albumId) => {\n  return dispatch => {\n    axios\n      .post(`${ROOT_URL}/delete-image`, { imageToDelete, albumId })\n      .then(res => {\n        console.log(\"res in delete image\", res.data);\n        disptach({\n          type: DELETE_IMAGE,\n          payload: res.data\n        });\n      })\n      .catch(error => {\n        console.log(\"error.response\", error.response);\n      });\n  };\n};\n","// @flow\nimport React, { Component } from \"react\";\nimport { styled } from \"fusion-plugin-styletron-react\";\nimport {\n  findAlbum,\n  showDeleteImagePopup,\n  showImagePopup\n} from \"../actions/albums\";\nimport { connect } from \"react-redux\";\nimport { Router, Route, Link } from \"fusion-plugin-react-router\";\nimport AddImage from \"../Components/add-image\";\nimport DeletePopup from \"../Components/delete-popup\";\nimport ImagePopup from \"../Components/image-popup\";\n\nclass Album extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    const albumId = this.props.match.params.id;\n    this.props.findAlbum(albumId);\n  }\n\n  handleDeletePopUp = albumToDelete => {\n    console.log(\"albumToDelete\", albumToDelete);\n    // this.props.showDeletePopup(imageToDelete);\n  };\n\n  handleDeleteAlbum = albumToDelete => {\n    console.log(\"albumToDelete\", albumToDelete);\n    // this.props.showDeletePopup(imageToDelete);\n  };\n\n  handleDeleteImage = imageToDelete => {\n    this.props.showDeleteImagePopup(imageToDelete);\n  };\n\n  handleImagePopup = imageToExpand => {\n    this.props.showImagePopup(imageToExpand);\n  };\n\n  render() {\n    return (\n      <div style={albumContainer}>\n        <div>\n          {this.props.showDeleteImagePopupBool ? <DeletePopup /> : null}\n        </div>\n        <div>{this.props.showImagePopupBool ? <ImagePopup /> : null}</div>\n        <Link style={homeLink} to=\"/\">\n          Home\n        </Link>\n        <div style={titleContainer}>\n          <div style={albumName}>{this.props.album.name}</div>\n          <div\n            style={deleteAlbumButton}\n            onClick={() => this.handleDeleteAlbum(this.props.album._id)}\n          >\n            &times;\n          </div>\n        </div>\n        <AddImage albumId={this.props.match.params.id} />\n        <div style={imagesBox}>\n          <div style={imagesContainer}>\n            {this.props.album.images.map((image, i) => (\n              <div key={i}>\n                <button onClick={() => this.handleDeleteImage(image._id)}>\n                  &times;\n                </button>\n                <div\n                  onClick={() => this.handleImagePopup(image.imagePreviewUrl)}\n                >\n                  <img style={imageContainer} src={image.imagePreviewUrl} />\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst albumContainer = {\n  fontFamily: \"HelveticaNeue-Light, Arial\",\n  width: \"80%\",\n  margin: \"auto\",\n  paddingTop: \"20px\"\n};\n\nconst titleContainer = {\n  display: \"flex\",\n  justifyContent: \"center\"\n};\n\nconst imagesBox = {\n  justifyContent: \"center\",\n  marginTop: \"40px\"\n};\n\nconst imagesContainer = {\n  margin: \"auto\",\n  display: \"grid\",\n  gridTemplateColumns: \"repeat(4, 300px)\",\n  justifyContent: \"space-around\"\n};\n\nconst imageContainer = {\n  maxWidth: \"300px\",\n  maxHeight: \"300px\",\n  backgroundColor: \"#F0F0F0\"\n};\n\nconst homeLink = {\n  textDecoration: \"none\",\n  fontSize: \"20px\",\n  fontWeight: \"600\"\n};\n\nconst albumName = {\n  fontSize: \"25px\",\n  textAlign: \"center\",\n  fontWeight: \"500\"\n};\n\nconst deleteAlbumButton = {\n  paddingLeft: \"20px\"\n};\n\nconst mapStateToProps = state => {\n  return {\n    album: state.album || { images: [] },\n    showDeleteImagePopupBool: state.showDeleteImagePopupBool,\n    showImagePopupBool: state.showImagePopupBool\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { findAlbum, showDeleteImagePopup, showImagePopup }\n)(Album);\n","import {\n  GET_ALBUMS,\n  GET_ALBUM,\n  ADD_IMAGE,\n  CREATE_ALBUM,\n  SHOW_DELETE_POPUP,\n  SHOW_IMAGE_POPUP,\n  DELETE_ALBUM,\n  DELETE_IMAGE\n} from \"../actions/albums\";\n\nexport default (state, action) => {\n  // console.log(\"action.payload\", action.payload);\n  switch (action.type) {\n    case GET_ALBUMS:\n      return {\n        ...state,\n        albums: action.payload.albums\n      };\n    case GET_ALBUM:\n      return {\n        album: action.payload.album\n      };\n    case CREATE_ALBUM:\n      return {\n        ...action.payload\n      };\n    case ADD_IMAGE:\n      return {\n        ...state,\n        ...action.payload\n      };\n    case SHOW_DELETE_SHOW_DELETE_ALBUM_POPUP_POPUP:\n      if (state.showDeleteAlbumPopupBool === true) {\n        return {\n          ...state,\n          showDeleteAlbumPopupBool: false\n        };\n      } else {\n        return {\n          ...state,\n          showDeleteAlbumPopupBool: true,\n          albumToDeleteId: action.payload\n        };\n      }\n    case SHOW_DELETE_IMAGE_POPUP:\n      if (state.showDeleteImagePopupBool === true) {\n        return {\n          ...state,\n          showDeleteImagePopupBool: false\n        };\n      } else {\n        return {\n          ...state,\n          showDeleteImagePopupBool: true,\n          imageToDeleteId: action.payload\n        };\n      }\n    case SHOW_IMAGE_POPUP:\n      if (state.showImagePopupBool === true) {\n        return {\n          ...state,\n          showImagePopupBool: false\n        };\n      }\n      return {\n        ...state,\n        showImagePopupBool: true,\n        imageToShow: action.payload\n      };\n    case DELETE_ALBUM:\n      return {\n        ...action.payload\n      };\n    case DELETE_IMAGE:\n      return {\n        ...action.payload\n      };\n    default:\n      return state;\n  }\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAPA;AASA;AACA;AACA;AATA;AACA;AAUA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAIA;AACA;AAFA;AAeA;AACA;AAvCA;AACA;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAEA;AAAA;AAAA;;;;;;;;;;;;AC7FA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AC3IA;AAEA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAUA;AAEA;AACA;AAbA;AAeA;AAEA;AACA;AAlBA;AAoBA;AACA;AACA;AAtBA;AAwBA;AACA;AAvBA;AACA;AACA;AACA;AACA;AACA;AACA;AAmBA;AACA;AACA;AAAA;AAKA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAEA;AACA;AAFA;AAOA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAIA;AADA;AAGA;AAAA;AAAA;AAQA;AACA;AAnEA;AACA;AAoEA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AAHA;AAMA;AACA;AADA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;AC3IA;AAWA;AACA;AACA;AACA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AAAA;AAEA;AACA;AAHA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAlEA;AAoEA;;;;A","sourceRoot":""}